<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
</head>
<body>
    <script>
        var a = [[6,7],[8,10],[12,16]];
        var b = [4,9];
        var n = 3;
        var m = n;
        var i = 0;
        var j = 0;
        var d = [];
        
        for(i = 0, j = 0; i < n , j < m; i++ , j++){
            
            if(a[i][0] < b[0]) {
                d[j] = [];
                d[j][0] = a[i][0];

                if(a[i][1] < b[0]){
                    d[j][1] = a[i][1];
                }
                else {
                    if(a[i][1] > b[1]){
                        d[j][1] = a[i][1];
                    }
                    else {
                        d[j][1] = b[1];
                    }
                }
            }
            else {
                if(a[i][0] < b[1]) {
                    if (j >= 1){
                        m -= 1;
                        j -= 1;
                        if(a[i][1] < b[1]){
                            
                        }
                        else {
                            d[j][1] = a[i][1] ;
                        }
                    }
                    else {
                        d[j] = [];
                        d[j][0] = b[0] ;
                        if(a[i][1] < b[1]){
                            d[j][1] = b[1]
                        }
                        else {
                            d[j][1] = a[i][1] ;
                        }
                    }
                    
                }
                else { 
                    if(d[j-1][1] < b[1]) {
                            m += 1;
                            j += 1;
                            d[j-1] = b;
                        }
                    
                    d[j] = a[i];
                }
            }
        }
    </script>
</body>
</html>